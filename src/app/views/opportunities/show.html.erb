<table>
  <thead>
  <tr>
    <th>Name: <%= @opportunity.name %></th>
    <th colspan="3"></th>
    <div style="display:flex; justify-content:flex-end; width:100%; padding:0;">
      
    <% if (@user.fav_event.include? @opportunity.id.to_s) %>
       <% buttonName = "Unfavorite"%>
    <% else %>
      <% buttonName = "Favorite"%>
    <% end %>  
      
    <div class="styledButton">
      <%= link_to buttonName, favorite_opportunity_path, method: :put %>
    </div>
  </tr>

  </thead>
  <tbody>
  <tr>

    <td colspan="3">
      <strong>Organization:</strong>
      <%= @opportunity.organization.name %>
    </td>

  </tr>

  <tr>
    <td colspan="3">
      <strong>Date:</strong>
      <span style="white-space: nowrap;"><%= @opportunity.on_date.strftime('%B %-d, %Y') %></span>

    </td>

  </tr>

  <tr>
    <td>
      <strong>Start Time:</strong>
      <%= @opportunity.start_time.strftime('%I:%M %p') %>
    </td>

    <td>
      <strong>End Time:</strong>
      <%= @opportunity.end_time.strftime('%I:%M %p') %>
    </td>

  </tr>

  <tr>
    <td>
      <strong>Address:</strong>
      <%= @opportunity.address %>
    </td>

    <td>
      <strong>City:</strong>
      <%= @opportunity.city %>
    </td>
  </tr>

  <tr>
    <td>
      <strong>State:</strong>
      <%= @opportunity.state %>
    </td>
    <td>
      <strong>Zip code:</strong>
      <%= @opportunity.zip_code %>
    </td>
  </tr>

  <tr>
    <td colspan="3">
      <strong>Transportation from TCNJ:</strong>
      <%= (@opportunity.transportation ? 'Provided' : 'Not provided') %>
    </td>

  </tr>


  <tr>
    <td colspan="3">
      <strong>Description:</strong>
      <%= @opportunity.description %>
    </td>

  </tr>


  <tr>
    <td>
      <strong>Issue Area:</strong>
      <%= @opportunity.issue_area.name unless @opportunity.issue_area.nil? %>
    </td>

    <td>
      <strong>Frequency:</strong>
      <%= @opportunity.frequency %>
    </td>
  </tr>
    <tr>
      <td>
        <strong>Interest Tag:</strong>
        <%= @opportunity.tag.name unless @opportunity.tag.nil? %>
      </td>
    </tr>
  </tbody>

</table>
<br><br>
<div style="text-align: center;">
  <div style="display: inline-block; text-align: left;">
    <div class="styledButton">
      <% if user_signed_in? && (current_user.organization == @opportunity.organization) # TODO or admin %>
        <%= link_to 'Edit', edit_opportunity_path(@opportunity) %> |
      <% end %>
    </div>

    <div class="styledButton">
      <%= link_to 'Back', :back %>
      
      <% if (@user.signed_up.include? @opportunity.id.to_s) %>
       <% buttonNameSign = "Unregister"%>
    <% else %>
      <% buttonNameSign = "Register"%>
    <% end %>  
      
     <div class="styledButton">
      <%= link_to buttonNameSign, signed_up_opportunity_path, method: :put %>
    </div>
      
    </div>
    
  </div>
</div>
